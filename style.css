/* ============================================================
   TRRA Styles — Mobile-first Hamburger Sidebar with Accordion
   ============================================================ */
:root{
  --bg:#f8fafc; --text:#1e293b; --primary:#0f172a; --muted:#64748b; --accent:#2563eb;
  --maxw:1100px; --pad:16px; --radius:14px;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.6;color:var(--text);background:var(--bg)}

/* ============================================================
   HEADER
   ============================================================ */
.site-header{
  position:sticky;top:0;z-index:1000;background:var(--bg);
  padding:14px var(--pad) 8px;text-align:center;box-shadow:0 1px 0 rgba(0,0,0,.06)
}
.site-title{margin:0;font-weight:800;color:var(--primary);font-size:clamp(1.5rem,2vw + 1rem,2.4rem)}
.site-subtitle{margin:4px 0 0;color:var(--muted);font-size:.95rem}

/* ============================================================
   HAMBURGER
   ============================================================ */
.hambutton{
  position:fixed;left:var(--pad);top:14px;z-index:1100;width:40px;height:34px;
  display:inline-flex;align-items:center;justify-content:center;border-radius:10px;cursor:pointer;user-select:none;transition:background .2s
}
.hambutton:hover{background:rgba(15,23,42,.06)}
.hambutton span{display:block;width:22px;height:2px;background:var(--primary);border-radius:2px;position:relative;transition:transform .2s,background .2s}
.hambutton span::before,.hambutton span::after{content:"";position:absolute;left:0;width:22px;height:2px;background:var(--primary);border-radius:2px;transition:transform .2s,top .2s,opacity .2s}
.hambutton span::before{top:-7px}.hambutton span::after{top:7px}
#nav-toggle{position:absolute;opacity:0;pointer-events:none}
#nav-toggle:checked + .hambutton span{background:transparent}
#nav-toggle:checked + .hambutton span::before{top:0;transform:rotate(45deg)}
#nav-toggle:checked + .hambutton span::after{top:0;transform:rotate(-45deg)}

/* ============================================================
   DRAWER + OVERLAY
   ============================================================ */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.4);opacity:0;pointer-events:none;transition:opacity .2s;z-index:1050}
.drawer{
  position:fixed;inset:0 auto 0 0;width:clamp(260px,80vw,360px);
  background:#fff;border-right:1px solid #e5e7eb;border-radius:0 var(--radius) var(--radius) 0;
  transform:translateX(-100%);transition:transform .25s;z-index:1060;
  height:100vh;padding:60px 12px 64px;overflow-y:auto;-webkit-overflow-scrolling:touch;
  box-shadow:0 10px 30px rgba(0,0,0,.12)
}
.drawer .drawer-title{margin:0 0 12px;padding:0 4px;font-weight:800;color:var(--primary);font-size:1.2rem}

/* Accordion */
.accordion{display:grid;gap:10px}
.accordion details{border-radius:12px}
.accordion summary{
  list-style:none;cursor:pointer;font-weight:700;color:var(--muted);
  padding:10px 12px;border-radius:12px
}
.accordion summary::-webkit-details-marker{display:none}
.accordion summary:hover{background:#f1f5f9}
.accordion details[open] summary{background:#eef2ff;color:var(--primary)}
.accordion .links{padding:6px}
.accordion .links a{display:block;padding:10px 12px;border-radius:10px;text-decoration:none;color:var(--text)}
.accordion .links a:hover{background:#f1f5f9;color:var(--primary)}

/* Drawer footer */
.drawer-footer{
  position:sticky;bottom:0;margin-top:16px;padding:12px 6px 8px;
  background:linear-gradient(180deg,rgba(255,255,255,0) 0%, #fff 40%);
  text-align:center;color:var(--muted);font-size:.9rem
}

/* Toggle */
#nav-toggle:checked ~ .overlay{opacity:1;pointer-events:auto}
#nav-toggle:checked ~ .drawer{transform:translateX(0)}

/* ============================================================
   MAIN + FOOTER
   ============================================================ */
main{max-width:var(--maxw);margin:0 auto;padding:24px var(--pad)}
.card{
  background:#fff;border:1px solid #e5e7eb;border-radius:var(--radius);
  box-shadow:0 1px 4px rgba(0,0,0,.06);padding:18px;margin:16px 0
}
h1,h2,h3{color:var(--primary);margin:0 0 8px}
.site-footer{border-top:1px solid #e5e7eb;margin-top:24px;padding:18px var(--pad)}
.footer-inner{
  max-width:var(--maxw);margin:0 auto;display:flex;flex-wrap:wrap;
  align-items:center;justify-content:center;gap:14px;color:var(--muted)
}
.footer-inner a{color:var(--muted);text-decoration:none;padding:6px 10px;border-radius:8px}
.footer-inner a:hover{background:rgba(15,23,42,.05);color:var(--primary)}
.muted{color:var(--muted)}

/* ============================================================
   MARKDOWN AUTO-CARDS (multi-block)
   Each H2/H3 starts a card; all following p/ul/ol belong to it
   until the next H2/H3.
   ============================================================ */

/* The card “shell” begins at the heading */
.md-cards > h2,
.md-cards > h3{
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius:var(--radius);
  box-shadow:0 1px 4px rgba(0,0,0,.06);
  padding:16px 20px;        /* inner left/right padding = 20 for alignment */
  margin:16px 0 0;
}

/* The content blocks are visually inside the same card */
.md-cards > h2 ~ p,
.md-cards > h2 ~ ul,
.md-cards > h2 ~ ol,
.md-cards > h3 ~ p,
.md-cards > h3 ~ ul,
.md-cards > h3 ~ ol{
  background:#fff;
  border-left:1px solid #e5e7eb;
  border-right:1px solid #e5e7eb;
  border-bottom:1px solid #e5e7eb;
  box-shadow:0 1px 4px rgba(0,0,0,.06);
  padding:0 20px 12px;      /* match heading’s horizontal padding */
  margin:0;                 /* fuse to the heading box */
}

/* Lists: extra indent + spacing so bullets don’t hug edge */
.md-cards > ul,
.md-cards > ol,
.md-cards > h2 ~ ul,
.md-cards > h2 ~ ol,
.md-cards > h3 ~ ul,
.md-cards > h3 ~ ol{
  padding-left:40px;        /* comfortable bullet indent */
  margin:8px 0 12px;
}
.md-cards li{margin:6px 0; line-height:1.5}

/* When a new section starts, round the bottom corners of the previous block */
.md-cards > h2,
.md-cards > h3{
  /* handled naturally because the next block has borders; we only need
     to ensure the *last* content before the next heading gets rounded. */
}
.md-cards > h2 ~ h2,
.md-cards > h2 ~ h3,
.md-cards > h3 ~ h2,
.md-cards > h3 ~ h3{
  /* nothing needed; the previous sibling already has borders */
}

/* Round the bottom of the *last* block in a section using a safe fallback:
   if a heading is immediately followed by a heading (no content),
   the heading itself keeps full rounding; otherwise give all following
   blocks rounding — visually acceptable even with multiple blocks. */
.md-cards > h2 + p,
.md-cards > h2 + ul,
.md-cards > h2 + ol,
.md-cards > h3 + p,
.md-cards > h3 + ul,
.md-cards > h3 + ol{
  border-top:none;                 /* attach to heading */
  border-radius:0 0 var(--radius) var(--radius);
}

/* Loose blocks (not under a heading) still get a nice card */
.md-cards > p:not(h2 ~ p):not(h3 ~ p),
.md-cards > ul:not(h2 ~ ul):not(h3 ~ ul),
.md-cards > ol:not(h2 ~ ol):not(h3 ~ ol),
.md-cards > blockquote,
.md-cards > pre,
.md-cards > table,
.md-cards > iframe{
  background:#fff;border:1px solid #e5e7eb;border-radius:var(--radius);
  box-shadow:0 1px 4px rgba(0,0,0,.06);padding:16px;margin:16px 0
}

/* Links inside markdown */
.md-cards a{color:var(--accent);text-decoration:none}
.md-cards a:hover{text-decoration:underline}
